<!DOCTYPE html>
<html>
<head>
  <title>Comment Section</title>
</head>
<body>
  <h1>Comment Section</h1>
  <form action="/submit-comment" method="post">
    <label for="commenter">Name:</label>
    <input type="text" id="commenter" name="commenter"><br><br>
    <label for="comment">Comment:</label>
    <textarea id="comment" name="comment"></textarea><br><br>
    <input type="submit" value="Submit Comment">
  </form>
  <div id="comments"></div>

  <script>

    const express = require('express');
const app = express();
const port = 3000;

// Set up comment storage
const comments = [];

// Serve HTML page
app.get('/', (req, res) => {
  res.sendFile(__dirname + '/index.html');
});

// Handle comment submission
app.post('/submit-comment', (req, res) => {
  const comment = req.body.comment;
  const commenter = req.body.commenter;

  comments.push({ commenter, comment });

  res.redirect('/');
});

// Serve comments
app.get('/comments', (req, res) => {
  res.json(comments);
});

app.use(express.urlencoded({ extended: true }));

app.listen(port, () => {
  console.log(`Server listening on port ${port}`);
});
    
    fetch('/comments')
      .then(response => response.json())
      .then(comments => {
        const commentsElement = document.getElementById('comments');
        comments.forEach(comment => {
          const commentElement = document.createElement('div');
          commentElement.innerHTML = `<strong>${comment.commenter}:</strong> ${comment.comment}`;
          commentsElement.appendChild(commentElement);
        });
      });
  </script>
</body>
</html>
